<VirtualHost *>
    ServerName bbbike.hosteurope.herceg.de
    ServerAlias bbbike.hosteurope
    ServerAlias m.bbbike.hosteurope
    DirectoryIndex index.html
    ErrorLog /tmp/bbbike.hosteurope-error.log
    CustomLog /tmp/bbbike.hosteurope-access.log common
    DocumentRoot /home/e/eserte/src/bbbike/projects/bbbike.de-hosteurope/public

    ScriptAlias /cgi-bin/ "/home/e/eserte/src/bbbike/projects/bbbike.de-hosteurope/cgi-bin/"
    Alias /BBBike /home/e/eserte/src/bbbike/projects/bbbike.de-hosteurope/BBBike
    <Location /BBBike>
	Options -Indexes
    </Location>

    RedirectMatch ^/$	/cgi-bin/bbbike.cgi
    RedirectMatch ^/wap(/index.wml)?$	/cgi-bin/wapbbbike.cgi
    RedirectMatch ^/beta/?$	/cgi-bin/bbbike2.cgi

    # server headers have precedence over http-equiv tags, so
    # force utf-8 in case DefaultCharset is active
    <Location /BBBike/html/opensearch/opensearch.html>
	AddType "text/html; charset=utf-8" .html
    </Location>

    <IfModule deflate_module>
        <Location /BBBike/data>
            SetOutputFilter DEFLATE
	    # old browsers with problems
            BrowserMatch ^Mozilla/4 gzip-only-text/html
            BrowserMatch ^Mozilla/4\.0[678] no-gzip
            BrowserMatch \bMSI[E] !no-gzip !gzip-only-text/html
            # don't compress images (i.e. sehenswuerdigkeit...)
            SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
        </Location>
    </IfModule>

    ErrorDocument 404 /BBBike/html/error404.html


#
#    <Perl>
#    use Apache::GzipChain 1.20;
#    </Perl>
#
#    <Location /BBBike/data>
#	SetHandler perl-script
#	PerlHandler Apache::OutputChain Apache::GzipChain Apache::PassFile
##	PerlHandler Apache::OutputChain Apache::PassFile
#    </Location>
#
#    <LocationMatch "^/BBBike/data/.*\.(gif|png|jpe?g|wbmp)">
#	SetHandler default-handler
#    </LocationMatch>

</VirtualHost>
